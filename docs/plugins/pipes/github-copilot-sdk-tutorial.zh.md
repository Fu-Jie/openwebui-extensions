# GitHub Copilot SDK æ’ä»¶è¿›é˜¶å®æˆ˜æ•™ç¨‹

**ä½œè€…:** [Fu-Jie](https://github.com/Fu-Jie) | **ç‰ˆæœ¬:** 1.0.0 | **é¡¹ç›®:** [Awesome OpenWebUI](https://github.com/Fu-Jie/awesome-openwebui)

æœ¬æ•™ç¨‹æ—¨åœ¨æŒ‡å¯¼æ‚¨å¦‚ä½•æ·±åº¦å‘æŒ¥ GitHub Copilot SDK æ’ä»¶çš„å…¨éƒ¨æ½œåŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªåŠ¨åŒ–æ–‡ä»¶ç”Ÿæˆã€BYOK æ¨¡å¼è‡ªå®šä¹‰ä»¥åŠå¤æ‚ä»»åŠ¡è°ƒåº¦æ–¹é¢çš„è¿›é˜¶ç”¨æ³•ã€‚

---

## 1. æ ¸å¿ƒåè®®ï¼šæ–‡ä»¶äº¤ä»˜ä¸‰æ­¥æ³• (File Delivery Protocol)

è¿™æ˜¯æœ¬æ’ä»¶æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚Agent ä¸å†åªæ˜¯â€œè¯´è¯â€ï¼Œå®ƒå¯ä»¥åœ¨å…¶éš”ç¦»çš„å·¥ä½œåŒºå†…ç”ŸæˆçœŸæ­£çš„ç‰©ç†æ–‡ä»¶ï¼ˆå¦‚ `.xlsx`, `.pdf`, `.csv`ï¼‰ï¼Œå¹¶å°†å…¶å‘å¸ƒç»™æ‚¨ä¸‹è½½ã€‚

### è‡ªåŠ¨åŒ–æ‰§è¡Œé€»è¾‘ï¼š
1.  **æœ¬åœ°å†™å…¥ (Write)**ï¼šAgent åœ¨å…¶éš”ç¦»ç›®å½•ï¼ˆå³ Python æ‰§è¡Œçš„å½“å‰ç›®å½• `.`ï¼‰ä¸‹é€šè¿‡ä»£ç ç”Ÿæˆæ–‡ä»¶ã€‚
2.  **æ˜¾å¼å‘å¸ƒ (Publish)**ï¼šAgent è‡ªåŠ¨è°ƒç”¨ `publish_file_from_workspace(filename='report.xlsx')`ã€‚
3.  **è·å–é“¾æ¥ (Link)**ï¼šæ’ä»¶ä¼šè‡ªåŠ¨å¤„ç† S3 æˆ–æœ¬åœ°å­˜å‚¨æ˜ å°„ï¼Œç»•è¿‡ RAG å¹²æ‰°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç±»ä¼¼ `/api/v1/files/.../content` çš„å®‰å…¨é“¾æ¥ã€‚

> [!TIP]
> **ç”¨æˆ·æŒ‡ä»¤æŠ€å·§**ï¼šæ‚¨å¯ä»¥ç›´æ¥å¯¹ Agent è¯´ï¼šâ€œåˆ†æåˆšæ‰çš„è¡¨æ ¼å¹¶å¯¼å‡ºä¸€ä»½ Excel ç»™æˆ‘â€ã€‚å®ƒä¼šè‡ªåŠ¨è§¦å‘è¿™ä¸€è¿ä¸²åŠ¨ä½œã€‚

---

## 2. BYOK (è‡ªå¸¦ Key) æ¨¡å¼è¿›é˜¶

å¦‚æœæ‚¨æ²¡æœ‰ GitHub Copilot è®¢é˜…ï¼Œæˆ–è€…å¸Œæœ›ä½¿ç”¨è‡ªå·±è´­ä¹°çš„ OpenAI/Anthropic é«˜é˜¶æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨ BYOK æ¨¡å¼ã€‚

### å¦‚ä½•é…ç½®ï¼š
1.  **è®¾ç½® Base URL**ï¼šå¦‚ `https://api.openai.com/v1`ã€‚
2.  **è®¾ç½® API Key**ï¼šåœ¨ä¸ªäººè®¾ç½®ä¸­å¡«å…¥æ‚¨çš„å¯†é’¥ã€‚
3.  **æ¨¡å‹å®æ—¶åˆ·æ–°**ï¼šæ’ä»¶å…·å¤‡**é…ç½®æ„ŸçŸ¥åˆ·æ–°**æœºåˆ¶ã€‚å½“æ‚¨åœ¨ Valve ä¸­ä¿®æ”¹äº† API Key æˆ– Base URL åï¼Œæ— éœ€é‡å¯ï¼Œåªéœ€åˆ·æ–°æ¨¡å‹é€‰æ‹©å™¨ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å‘åç«¯æ‹‰å–æœ€æ–°çš„å¯ç”¨æ¨¡å‹åˆ—è¡¨ã€‚

---

## 3. å·¥ä½œåŒºéš”ç¦»ä¸è°ƒè¯• (Workspace & Debugging)

æ¯ä¸ªèŠå¤©ä¼šè¯éƒ½æœ‰ä¸€ä¸ªç‰©ç†ä¸Šéš”ç¦»çš„æ–‡ä»¶å¤¹ï¼Œç¡®ä¿ä¸åŒä»»åŠ¡çš„æ–‡ä»¶äº’ä¸å¹²æ‰°ã€‚

### ç‰©ç†è·¯å¾„è§„åˆ™ï¼š
- **å®¹å™¨å†…è·¯å¾„**ï¼š`/app/backend/data/copilot_workspace/{user_id}/{chat_id}/`
- **Agent çš„è§†è§’**ï¼šå®ƒçœ‹åˆ°çš„ `.` ç›®å½•å³æ˜¯ä¸Šè¿°è·¯å¾„ã€‚

### è°ƒè¯•ç§˜ç±ï¼š
1.  **å¼€å¯ DEBUG Valve**ï¼šåœ¨é…ç½®ä¸­å°† `DEBUG` è®¾ä¸º `True`ã€‚
2.  **æŸ¥çœ‹æ§åˆ¶å°**ï¼šæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12) -> Consoleã€‚
3.  **æ•è·è·¯å¾„**ï¼šæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ `ğŸ“‚ Workspace Resolved: /.../` çš„æ—¥å¿—ï¼Œè¿™èƒ½å¸®æ‚¨ç¡®è®¤ Agent åˆ°åº•æŠŠæ–‡ä»¶å†™åˆ°äº†å“ªé‡Œã€‚

---

## 4. ç»•è¿‡ RAG çš„æ·±åº¦åˆ†æ

ä¼ ç»Ÿçš„ OpenWebUI æ–‡ä»¶ä¸Šä¼ ä¼šè§¦å‘å‘é‡åŒ–ï¼ˆRAGï¼‰ï¼Œè¿™å¯¹äºå¤§æ‰¹é‡æ•°æ®åˆ†æå¾€å¾€ä¸å¤Ÿç²¾ç¡®ã€‚

**æœ¬æ’ä»¶çš„ä¼˜åŠ¿**ï¼š
- é…åˆ [Files Filter](https://openwebui.com/posts/403a62ee-a596-45e7-be65-fab9cc249dd6) æ’ä»¶ä½¿ç”¨æ—¶ï¼ŒAgent å¯ä»¥**ç›´æ¥è¯»å–**åŸå§‹æ–‡ä»¶çš„æ¯ä¸€ä¸ªå­—èŠ‚ã€‚
- å®ƒèƒ½åƒåœ¨æœ¬åœ°è¿è¡Œè„šæœ¬ä¸€æ ·åˆ†æ CSV çš„æ¯ä¸€è¡Œï¼Œè€Œä¸ä¼šå› ä¸ºåˆ‡ç‰‡æ£€ç´¢ï¼ˆRetrievalï¼‰å¯¼è‡´ä¿¡æ¯ä¸¢å¤±ã€‚

---

## 5. å¸¸è§äº¤äº’æŒ‡ä»¤ç¤ºä¾‹

- **æ•°æ®è½¬æ¢**ï¼šâ€œæŠŠè¿™ä¸ª JSON å†…å®¹è½¬æ¢æˆæ ¼å¼ç²¾ç¾çš„ Word æ–‡æ¡£å¹¶æä¾›ä¸‹è½½é“¾æ¥ã€‚â€
- **ä»£ç å®¡æŸ¥**ï¼šâ€œè¯»å–å·¥ä½œåŒºå†…çš„æ‰€æœ‰ `.py` æ–‡ä»¶ï¼Œæ‰¾å‡ºæ½œåœ¨çš„ Bugï¼Œå¹¶æŠŠä¿®æ”¹å»ºè®®å‘å¸ƒä¸º Markdown æŠ¥å‘Šã€‚â€
- **å›¾è¡¨ç”Ÿæˆ**ï¼šâ€œæ ¹æ®åˆšæ‰çš„è´¢åŠ¡æ•°æ®ç”Ÿæˆä¸€ä»½ Excel æŠ¥è¡¨ï¼Œå¹¶ç”¨ Python ç”»ä¸€ä¸ªè¶‹åŠ¿å›¾ç»™æˆ‘ã€‚â€

---

## ğŸš€ å®æˆ˜ç¤ºä¾‹ï¼šå…¨è‡ªåŠ¨è´¢åŠ¡åˆ†ææŠ¥å‘Š

### åœºæ™¯æè¿°
ç”¨æˆ·ä¸Šä¼ äº†ä¸€ä¸ªåä¸º `sales_data.csv` çš„åŸå§‹é”€å”®æ¸…å•ï¼Œè¦æ±‚ AI è¿›è¡Œæ±‡æ€»ç»Ÿè®¡ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å¸¦æ ·å¼çš„ Excel æŠ¥è¡¨ã€‚

### 1. ç”¨æˆ·çš„æŒ‡ä»¤
> â€œè¯·åˆ†æå½“å‰ç›®å½•ä¸‹çš„ `sales_data.csv`ï¼ŒæŒ‰äº§å“ç±»åˆ«ç»Ÿè®¡æ€»é”€å”®é¢ï¼Œå¹¶å¯¼å‡ºä¸€ä»½åä¸º `category_summary.xlsx` çš„ Excel ç»™æˆ‘å°±å¥½ã€‚â€

### 2. Agent çš„è‡ªåŠ¨åŒ–æ‰§è¡Œè¿‡ç¨‹
Agent ä¼šåœ¨åå°è¿ç»­æ‰§è¡Œä»¥ä¸‹åŠ¨ä½œï¼š

*   **æ­¥éª¤ 1: ç¼–å†™å¹¶è¿è¡Œ Python è„šæœ¬**
    ```python
    import pandas as pd
    # ç›´æ¥åœ¨éš”ç¦»å·¥ä½œåŒºè¯»å–åŸå§‹æ–‡ä»¶ï¼ˆç»•è¿‡ RAGï¼Œä¿è¯æ•°æ® 100% å‡†ç¡®ï¼‰
    df = pd.read_csv('sales_data.csv')
    summary = df.groupby('Category')['Revenue'].sum().reset_index()
    # ä¿å­˜ç»“æœåˆ°å½“å‰ç›®å½•
    summary.to_excel('category_summary.xlsx', index=False)
    ```
*   **æ­¥éª¤ 2: è°ƒç”¨å‘å¸ƒå·¥å…·**
    Agent è‡ªåŠ¨æ‰§è¡Œå·¥å…·è°ƒç”¨ï¼š`publish_file_from_workspace(filename="category_summary.xlsx")`
*   **æ­¥éª¤ 3: äº¤ä»˜é“¾æ¥**
    å·¥å…·è¿”å› `download_url`ï¼ŒAgent æœ€ç»ˆå›å¤ç”¨æˆ·ã€‚

### 3. æœ€ç»ˆäº¤ä»˜æ•ˆæœ
Agent ä¼šå‘ç”¨æˆ·å±•ç¤ºï¼š
> â€œåˆ†æå®Œæˆï¼æˆ‘å·²ç»ä¸ºæ‚¨ç»Ÿè®¡äº†äº§å“ç±»åˆ«çš„é”€å”®é¢ã€‚æ‚¨å¯ä»¥ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ä¸‹è½½æŠ¥è¡¨ï¼š
> 
> [ğŸ“Š ç‚¹å‡»ä¸‹è½½ï¼šåˆ†ç±»é”€å”®ç»Ÿè®¡æŠ¥è¡¨.xlsx](/api/v1/files/uuid-hash/content)â€

---

## â­ æŒç»­æ”¹è¿›

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ä»»ä½•é—®é¢˜ï¼Œæˆ–æœ‰æ–°çš„åŠŸèƒ½å»ºè®®ï¼Œæ¬¢è¿åˆ° [Awesome OpenWebUI](https://github.com/Fu-Jie/awesome-openwebui) æäº¤ Issue æˆ–å‚ä¸è®¨è®ºã€‚

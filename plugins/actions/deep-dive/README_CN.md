# 📖 精读

**作者:** [Fu-Jie](https://github.com/Fu-Jie) | **版本:** 1.0.0 | **项目:** [Awesome OpenWebUI](https://github.com/Fu-Jie/awesome-openwebui)

全方位的思维透镜 —— 从背景全景到逻辑脉络，从深度洞察到行动路径。

## 🔥 v1.0.0 更新内容

- ✨ **思维链结构**: 从表面理解一步步深入到战略行动。
- 🔍 **阶段 01: 全景 (The Context)**: 提供情境与背景的高层级全景视图。
- 🧠 **阶段 02: 脉络 (The Logic)**: 解构底层推理逻辑与思维模型。
- 💎 **阶段 03: 洞察 (The Insight)**: 提取非显性价值与隐藏的深层含义。
- 🚀 **阶段 04: 路径 (The Path)**: 定义具体的、按优先级排列的战略方向。
- 🎨 **高端 UI**: 现代化的过程导向设计，带有"思维导火索"时间轴。
- 🌗 **主题自适应**: 自动适配 OpenWebUI 的深色/浅色主题。

## ✨ 核心特性

- 📖 **深度思考**: 不仅仅是摘要，而是对内容的全面解构。
- 🧠 **逻辑分析**: 揭示论点是如何构建的，识别隐藏的假设。
- 💎 **价值提取**: 发现"原来如此"的时刻与思维盲点。
- 🚀 **行动导向**: 将深度理解转化为立即、可执行的步骤。
- 🌍 **多语言支持**: 自动适配用户的偏好语言。
- 🌗 **主题支持**: 根据 OpenWebUI 设置自动切换深色/浅色主题。

## 🚀 如何使用

1. **输入内容**: 在聊天中提供任何文本、文章或会议记录。
2. **触发精读**: 点击 **精读** 操作按钮。
3. **探索思维链**: 沿着视觉时间轴从"全景"探索到"路径"。

## ⚙️ 配置参数 (Valves)

| 参数 | 默认值 | 描述 |
| :--- | :--- | :--- |
| **显示状态 (SHOW_STATUS)** | `True` | 是否在思维过程中显示状态更新。 |
| **模型 ID (MODEL_ID)** | `空` | 用于分析的 LLM 模型。留空 = 使用当前模型。 |
| **最小文本长度 (MIN_TEXT_LENGTH)** | `200` | 进行有意义的精读所需的最小字符数。 |
| **清除旧 HTML (CLEAR_PREVIOUS_HTML)** | `True` | 是否清除之前的插件结果。 |
| **消息数量 (MESSAGE_COUNT)** | `1` | 要分析的最近消息数量。 |

## 🌗 主题支持

插件会自动检测并适配 OpenWebUI 的主题设置：

- **检测优先级**:
  1. 父文档 `<meta name="theme-color">` 标签
  2. 父文档 `html/body` 的 class 或 `data-theme` 属性
  3. 系统偏好 `prefers-color-scheme: dark`

- **环境要求**: 为获得最佳效果，请在 OpenWebUI 中启用 **iframe Sandbox Allow Same Origin**：
  - 进入 **设置** → **界面** → **Artifacts** → 勾选 **iframe Sandbox Allow Same Origin**

## 🎨 视觉预览

插件生成结构化的思维时间轴：

```
┌─────────────────────────────────────┐
│  📖 精读分析报告                     │
│  👤 用户  📅 日期  📊 字数           │
├─────────────────────────────────────┤
│  🔍 阶段 01: 全景 (The Context)      │
│  [高层级全景视图内容]                 │
│                                     │
│  🧠 阶段 02: 脉络 (The Logic)        │
│  • 推理结构分析...                   │
│  • 隐藏假设识别...                   │
│                                     │
│  💎 阶段 03: 洞察 (The Insight)      │
│  • 非显性价值提取...                 │
│  • 思维盲点揭示...                   │
│                                     │
│  🚀 阶段 04: 路径 (The Path)         │
│  ▸ 优先级行动 1...                   │
│  ▸ 优先级行动 2...                   │
└─────────────────────────────────────┘
```

## 📂 文件说明

- `deep_dive.py` - 英文版 (Deep Dive)
- `deep_dive_cn.py` - 中文版 (精读)
